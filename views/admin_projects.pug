extends layout

block content
  .d-flex.justify-content-between.align-items-center.mb-4
    h1 Projects
    a.btn.btn-primary(href="/admin/projects/new") + Add Project

  if projects.length
    each p in projects
      .card.mb-3.shadow-sm
        .row.g-0
          .col-md-4
            if p.image
              img.img-fluid.rounded-start(src=p.image, alt=p.title)
            else
              img.img-fluid.rounded-start(src="https://via.placeholder.com/150", alt=p.title)
          .col-md-8
            .card-body
              h5.card-title #{p.title}
              p.card-text #{p.description}
              if p.liveDemo
                a.btn.btn-sm.btn-success.mt-2(href=p.liveDemo, target="_blank") Live Demo
              if p.github
                a.btn.btn-sm.btn-dark.mt-2.ms-2(href=p.github, target="_blank") GitHub
            .card-footer.d-flex.justify-content-between
              a.btn.btn-sm.btn-warning(href=`/admin/projects/${p._id}/edit`) Edit
              form(method="POST", action=`/admin/projects/${p._id}?_method=DELETE`)
                button.btn.btn-sm.btn-danger(type="submit") Delete
  else
    p.text-muted No projects added yet.
